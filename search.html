---
title: search
layout: default
header-img: "assets/img/tag-bg.jpg"
---

<!-- 
Credits: this page shamelessly borrowed a lot from:
https://github.com/kitian616/jekyll-TeXt-theme
-->
<!-- Page Header -->
{% include intro-header.html type='page' short=true %}

<!-- Main Content -->
<div class="container">
    <div class="search-panel">
        <div class="search-panel__filters">
            <div id="tag-list"></div>
        </div>

        <div class="search-panel__results">
            <div id="searchbox"></div>
            <div id="hits"></div>
        </div>
    </div>

    <div id="pagination"></div>
</div>

<!-- Including InstantSearch.js library and styling -->
<script src="https://cdn.jsdelivr.net/algoliasearch/3.32.0/algoliasearchLite.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.5.0"></script>

<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/instantsearch.css@7/themes/algolia-min.css"
/>

<script>
    // Instanciating InstantSearch.js with Algolia credentials
    /* global algoliasearch instantsearch */

    const searchClient = algoliasearch(
        "1YLEN0QM8Z",
        "9b6553e7658d9ff15e97dad1e7370ab5"
    );

    const search = instantsearch({
        indexName: "dev_shinjam",
        searchClient,
    });
    search.addWidget(
        instantsearch.widgets.configure({
            facetFilters: ["type:post"],
        })
    );

    search.addWidgets([
        instantsearch.widgets.searchBox({
            container: "#searchbox",
        }),
        instantsearch.widgets.hits({
            container: "#hits",
            templates: {
                item(hit) {
                    console.log(hit);
                    return `
          <article>
            <p>Title: ${instantsearch.highlight({
                attribute: "title",
                highlightedTagName: "mark",
                hit,
            })}</p>
            <p>Content: ${instantsearch.highlight({
                attribute: "content",
                highlightedTagName: "mark",
                hit,
            })}</p>
          </article>
        `;
                },
            },
        }),
        instantsearch.widgets.refinementList({
            container: "#tag-list",
            attribute: "tags",
        }),
        instantsearch.widgets.pagination({
            container: "#pagination",
        }),
    ]);

    search.start();
</script>

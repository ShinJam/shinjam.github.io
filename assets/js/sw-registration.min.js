function handleRegistration(n){console.log("Service Worker Registered. ",n),n.onupdatefound=function(e){var o=n.installing;o.onstatechange=function(e){"installed"===o.state&&(navigator.serviceWorker.controller?console.log("SW is updated"):(console.log("A Visit without previous SW"),createSnackbar({message:"App ready for offline use.",duration:3e3})))}}}navigator.serviceWorker&&(navigator.serviceWorker.register("/sw.js").then(function(e){return handleRegistration(e)}).catch(function(e){console.log("ServiceWorker registration failed: ",e)}),navigator.serviceWorker.onmessage=function(e){console.log("SW: SW Broadcasting:",event);var o=e.data;"UPDATE_FOUND"==o.command&&(console.log("UPDATE_FOUND_BY_SW",o),createSnackbar({message:"Content updated.",actionText:"refresh",action:function(){location.reload()}}))});
"use strict";!function(){var t,p=(t=window.location.href.split("?")[0],function(n){"string"==typeof n?window.history.replaceState(null,"",t+n):window.history.replaceState(null,"",t)});$(document).ready(function(){var n=$(".js-tags"),f=n.find(".tag-button"),d=n.find(".tag-button--all"),u=$(".js-result"),c=u.find("section"),h=[],t=null,e=[],g=!1;function v(n){n&&(n.addClass("focus"),t&&!t.is(n)&&t.removeClass("focus"),t=n)}function o(n,t){for(var e,o,i,a={},s=0;s<h.length;s++)for(e=h[s],o=0;o<e.length;o++)if(""===n||void 0===n)a[s]||(a[s]={}),a[s][o]=!0;else for(var r=e.eq(o).data("tags").split(","),l=0;l<r.length;l++)if(r[l]===n){a[s]||(a[s]={}),a[s][o]=!0;break}for(s=0;s<h.length;s++)for(a[s]&&c.eq(s).removeClass("d-none"),a[s]||c.eq(s).addClass("d-none"),o=0;o<h[s].length;o++)a[s]&&a[s][o]?h[s].eq(o).removeClass("d-none"):h[s].eq(o).addClass("d-none");g||(u.removeClass("d-none"),g=!0),t?(v(t),""===(i=t.attr("data-encode"))||"string"!=typeof i?p():p("?tag="+i)):v(function(n){if(!n)return d;var t=f.filter('[data-encode="'+n+'"]');return 0===t.length?d:t}(n))}c.each(function(){h.push($(this).find(".item"))});var i=function(){for(var n,t=0,e={},o=window.location.search.substring(1).split("&"),t=0;t<o.length;t++)void 0===e[(n=o[t].split("="))[0]]?e[n[0]]=n[1]:"string"==typeof e[n[0]]?e[n[0]]=[e[n[0]],n[1]]:e[n[0]].push(n[1]);return e}().tag;!function(){for(var n=0,t=0;t<c.length;t++)e.push(n),n+=c.eq(t).find(".item").length;e.push(n)}(),o(i),n.on("click","a",function(){o($(this).data("encode"),$(this))})})}();